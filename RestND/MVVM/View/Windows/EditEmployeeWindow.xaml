<Window x:Class="RestND.MVVM.View.Windows.EditEmployeeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:uc="clr-namespace:RestND.MVVM.View.UserControls"
        mc:Ignorable="d"

        Style="{StaticResource smallWindowStyle}"
        Title="Edit Employee"
        WindowStartupLocation="CenterOwner"
        MouseLeftButtonDown="Window_MouseLeftButtonDown">

    <Border Style="{DynamicResource windowBorder}">
        <Grid Margin="12">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <GroupBox Header="Edit Employee Details">

            <!-- Form -->
                <StackPanel Grid.Row="1" Orientation="Vertical" Margin="4,0,0,0">

                    <!-- Employee ID (read-only) -->
                    <StackPanel Orientation="Horizontal" Margin="0 5 0 10">
                        <Label Content="Employee ID:"/>
                        <TextBox Text="{Binding SelectedEmployee.Employee_ID, UpdateSourceTrigger=PropertyChanged}"
                             IsReadOnly="True"
                             Margin="10 0 0 0" Width="260"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0 5 0 10">
                        <Label Content="First Name:"/>
                        <TextBox Text="{Binding SelectedEmployee.Employee_Name, UpdateSourceTrigger=PropertyChanged}"
                             Margin="10 0 0 0" Width="260"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0 5 0 10">
                        <Label Content="Last Name:"/>
                        <TextBox Text="{Binding SelectedEmployee.Employee_LastName, UpdateSourceTrigger=PropertyChanged}"
                             Margin="10 0 0 0" Width="260"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" Margin="0 5 0 10">
                        <Label Content="Email:"/>
                        <TextBox Text="{Binding SelectedEmployee.Email, UpdateSourceTrigger=PropertyChanged}"
                             Margin="10 0 0 0" Width="260"/>
                    </StackPanel>

                    <!-- Role: ListBox (single-select) -->
                    <StackPanel Orientation="Horizontal" Margin="0 5 0 10" VerticalAlignment="Top">
                        <Label Content="Role:" VerticalAlignment="Top"/>
                        <ListBox ItemsSource="{Binding Roles}"
                        DisplayMemberPath="Role_Name"
                        SelectedItem="{Binding SelectedEmployee.Employee_Role, Mode=TwoWay}"
                         Margin="10 0 0 0"
                         Width="260"
                         Height="90"
                         SelectionMode="Single"/>

                    </StackPanel>

                    <!-- Optional form error/info -->
                    <TextBlock Text="{Binding FormErrorMessage}"
                           Style="{DynamicResource errorMessage}"/>
                </StackPanel>
            </GroupBox>
            
            <!-- Actions -->
            <StackPanel Orientation="Vertical" HorizontalAlignment="Center" Grid.Row="2">

                <!-- Action buttons (right) -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Cancel"
                            Margin="0,0,8,0"
                            Click="Cancel_Click"
                            Style="{DynamicResource SubmitBtn}"/>
                    <Button Content="Save Changes"
                            Command="{Binding UpdateEmployeeCommand}"
                            Style="{DynamicResource SubmitBtn}"
                            IsDefault="True"/>
                </StackPanel>
            </StackPanel>

            <!-- Return button (left) -->
            <uc:ReturnBtn x:Name="returnBtn" Grid.Row="2"
                        HorizontalAlignment="Left"/>

        </Grid>
    </Border>
</Window>
